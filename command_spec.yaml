version: 0.1
component: command
timeoutInSeconds: 10000
shell: bash
failImmediatelyOnError: true
env:
  variables:
steps:
  - type: Command
    name: restart container instances
    shell: bash
    timeoutInSeconds: 3500
    failImmediatelyOnError: true
    command: |
      oci container-instances container-instance restart --container-instance-id ${CONTAINER_INSTANCE_OCID}
      echo "container instance restarted"

    onFailure:
      - type: Command
        command: |
          echo "Container Instance Restart"
        timeoutInSeconds: 400